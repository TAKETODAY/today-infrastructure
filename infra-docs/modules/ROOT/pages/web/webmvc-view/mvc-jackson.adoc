[[mvc-view-jackson]]
= Jackson


Infra 提供了对 Jackson JSON 库的支持。


[[mvc-view-json-mapping]]
== 基于 Jackson 的 JSON MVC 视图

`JacksonJsonView` 使用 Jackson 库的 `ObjectMapper` 将响应内容渲染为 JSON。默认情况下，模型映射的全部内容（框架特定的类除外）都编码为 JSON。对于需要过滤映射内容的情况，可以使用 `modelKeys` 属性指定要编码的一组特定的模型属性。您还可以使用 `extractValueFromSingleKeyModel` 属性，将单键模型中的值直接提取并序列化，而不是作为模型属性的映射。

您可以根据需要使用 Jackson 提供的注解来自定义 JSON 映射。当您需要进一步控制时，可以通过 `ObjectMapper` 属性注入自定义 `ObjectMapper`，以便为特定类型提供自定义 JSON 序列化器和反序列化器。


[[mvc-view-xml-mapping]]
== 基于 Jackson 的 XML 视图

`JacksonXmlView` 使用
{jackson-github-org}/jackson-dataformat-xml[Jackson XML 扩展的] `XmlMapper`
将响应内容渲染为 XML。如果模型包含多个条目，您应该使用 `modelKey` bean 属性显式设置要序列化的对象。如果模型包含单个条目，则会自动序列化它。

您可以根据需要使用 JAXB 或 Jackson 提供的注解来自定义 XML 映射。当您需要进一步控制时，可以通过 `ObjectMapper` 属性注入自定义 `XmlMapper`，以便为特定类型提供自定义 XML 序列化器和反序列化器。
