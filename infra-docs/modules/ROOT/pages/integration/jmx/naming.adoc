[[jmx-naming]]
= 控制 MBean 的 ObjectName

在 JMX 中，`ObjectName` 是 MBean 的唯一标识符。
`MBeanExporter` 负责为每个导出的 bean 确定 `ObjectName`。
默认情况下，它使用 `KeyNamingStrategy`，它使用 bean 定义中的 map 键作为 `ObjectName`。

[[jmx-naming-metadata]]
== MetadataNamingStrategy

`MetadataNamingStrategy` 使用 bean 类上的注解（如 `@ManagedResource`）来确定 `ObjectName`。

[source,xml,indent=0,subs="verbatim,quotes"]
----
<bean id="namingStrategy" class="infra.jmx.export.naming.MetadataNamingStrategy">
    <property name="attributeSource" ref="attributeSource"/>
</bean>

<bean id="exporter" class="infra.jmx.export.MBeanExporter">
    <property name="namingStrategy" ref="namingStrategy"/>
    ...
</bean>
----

在这种情况下，`ObjectName` 取自 `@ManagedResource(objectName="...")` 属性。

[[jmx-naming-identity]]
== IdentityNamingStrategy

`IdentityNamingStrategy` 根据 bean 的身份生成 `ObjectName`，通常使用类名和哈希码。
这在发生命名冲突时作为后备策略很有用。

[[jmx-naming-key]]
== KeyNamingStrategy

这是默认策略。它使用 `beans` map 中的键作为 `ObjectName`。

[source,xml,indent=0,subs="verbatim,quotes"]
----
<bean id="exporter" class="infra.jmx.export.MBeanExporter">
    <property name="beans">
        <map>
            <entry key="bean:name=testBean1" value-ref="testBean"/>
        </map>
    </property>
</bean>
----

在这里，`ObjectName` 是 `bean:name=testBean1`。

[[jmx-naming-properties]]
== 附加属性

你可以配置 `MBeanExporter` 以确保所有 `ObjectName` 都具有某些附加属性（例如，域或特定键值对）。
这对于在大型系统中组织 MBean 非常有用。
