[[beans-factory-dependson]]
= 使用 `depends-on`

如果一个 bean 是另一个 bean 的依赖项，这通常意味着一个 bean 被设置为另一个 bean 的属性。
通常，您可以使用基于 XML 的配置元数据中的 <<beans-ref-element, `<ref/>` 元素>> 来完成此操作。
但是，有时 bean 之间的依赖关系不那么直接。
一个例子是当类中的静态初始化程序需要被触发时，例如数据库驱动程序注册。
`depends-on` 属性可以显式强制一个或多个 bean 在使用此元素的 bean 初始化之前进行初始化。
以下示例使用 `depends-on` 属性来表示对单个 bean 的依赖关系：

[source,xml,indent=0,subs="verbatim,quotes"]
----
<bean id="beanOne" class="ExampleBean" depends-on="manager"/>
<bean id="manager" class="ManagerBean" />
----

要表示对多个 bean 的依赖关系，请提供 bean 名称列表作为 `depends-on` 属性的值（逗号、空格和分号是有效的分隔符）：

[source,xml,indent=0,subs="verbatim,quotes"]
----
<bean id="beanOne" class="ExampleBean" depends-on="manager,accountDao">
  <property name="manager" ref="manager" />
</bean>

<bean id="manager" class="ManagerBean" />
<bean id="accountDao" class="x.y.jdbc.JdbcAccountDao" />
----

NOTE: `depends-on` 属性既可以指定初始化时依赖项，也可以指定（仅在 xref:core/beans/factory-scopes.adoc#beans-factory-scopes-singleton[单例] bean 的情况下）相应的销毁时依赖项。
定义了与给定 bean 的 `depends-on` 关系的依赖 bean 会首先被销毁，在给定 bean 本身被销毁之前。
因此，`depends-on` 也可以控制关闭顺序。
