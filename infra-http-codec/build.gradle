description = "HTTP Reactive Codec infrastructure"

dependencies {
  api(project(":infra-http-reactive"))

  optional(project(":infra-beans"))
  optional(project(":infra-context"))
  optional(project(":infra-core-aot"))

  optional("org.reactivestreams:reactive-streams")
  optional("io.projectreactor.netty:reactor-netty-http")
  optional("io.projectreactor:reactor-core")
  optional("tools.jackson.core:jackson-databind")
  optional("tools.jackson.dataformat:jackson-dataformat-smile")
  optional("tools.jackson.dataformat:jackson-dataformat-cbor")
  optional("tools.jackson.dataformat:jackson-dataformat-smile")
  optional("tools.jackson.dataformat:jackson-dataformat-xml")
  optional("tools.jackson.dataformat:jackson-dataformat-yaml")
  optional("com.google.protobuf:protobuf-java-util")


  testImplementation project(':infra-test-support')
  testImplementation project(':module:infra-app-test')
  testImplementation(project(":module:infra-jackson"))

  testImplementation("jakarta.xml.bind:jakarta.xml.bind-api")
  testImplementation("org.skyscreamer:jsonassert")
  testImplementation("io.projectreactor:reactor-test")
  testImplementation testFixtures(project(":infra-http"))
  testImplementation testFixtures(project(":infra-http-reactive"))

  testImplementation(testFixtures(project(":infra-beans")))
  testImplementation(testFixtures(project(":infra-beans")))
  testImplementation(testFixtures(project(":infra-web-reactive")))

  testRuntimeOnly("ch.qos.logback:logback-classic")
}