plugins {
  id 'java'
  id 'cn.taketoday.application' version '{gradle-project-version}'
}

// tag::env[]
tasks.named("infraBuildImage") {
  environment["HTTP_PROXY"] = "http://proxy.example.com"
  environment["HTTPS_PROXY"] = "https://proxy.example.com"
}
// end::env[]

tasks.register("infraBuildImageEnvironment") {
  doFirst {
    infraBuildImage.environment.get().each { name, value -> println "$name=$value" }
  }
}
