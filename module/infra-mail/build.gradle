description = 'Infra Mail Support'

dependencies {
  api(project(":infra-beans"))
  api(project(":infra-context"))
  api(project(":infra-core"))

  optional(project(":infra-aop"))
  optional(project(":infra-core-aot"))
  optional project(":module:infra-app-health")

  optional("jakarta.activation:jakarta.activation-api")
  optional("jakarta.mail:jakarta.mail-api")

  annotationProcessor(project(":infra-build:infra-configuration-processor"))
  annotationProcessor(project(":infra-build:infra-annotation-config-processor"))

  compileOnly("com.fasterxml.jackson.core:jackson-annotations")

  runtimeOnly("org.eclipse.angus:angus-mail")

  testImplementation testFixtures(project(":infra-app-config"))
  testImplementation project(":module:infra-app-test")

  testRuntimeOnly("ch.qos.logback:logback-classic")

  testImplementation(project(":infra-context"))
  testImplementation(testFixtures(project(":infra-beans")))
  testImplementation(testFixtures(project(":infra-context")))
  testImplementation(testFixtures(project(":infra-core")))
  testImplementation(testFixtures(project(":infra-aop")))
  testImplementation("jakarta.annotation:jakarta.annotation-api")
  testRuntimeOnly("org.eclipse.angus:angus-mail")
  testRuntimeOnly("org.glassfish:jakarta.el")
  testRuntimeOnly("com.sun.mail:jakarta.mail")

}

