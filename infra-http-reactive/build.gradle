apply plugin: "java-test-fixtures"

description = "Infra HTTP Reactive API"

dependencies {
  api(project(":infra-core"))
  api(project(":infra-http"))

  optional(project(":infra-beans"))
  optional(project(":infra-context"))
  optional(project(":infra-core-aot"))

  optional("org.reactivestreams:reactive-streams")
  optional("io.projectreactor.netty:reactor-netty-http")
  optional("io.projectreactor:reactor-core")
  optional('org.apache.httpcomponents.client5:httpclient5')
  optional('org.apache.httpcomponents.core5:httpcore5-reactive')

  annotationProcessor(project(":infra-build:infra-configuration-processor"))
  annotationProcessor(project(":infra-build:infra-annotation-config-processor"))

  testImplementation project(':infra-test-support')
  testImplementation(project(":infra-test"))
  testImplementation("tools.jackson.core:jackson-databind")
  testImplementation("io.projectreactor:reactor-test")
  testImplementation(project(":module:infra-app-test"))
  testImplementation(project(":infra-web-server"))
  testImplementation(project(":infra-web-netty-server"))
  testImplementation(testFixtures(project(":infra-web-reactive")))
  testImplementation(testFixtures(project(":infra-http-client")))

  testFixturesApi(testFixtures(project(":infra-http")))
  testFixturesApi(testFixtures(project(":infra-core")))

}